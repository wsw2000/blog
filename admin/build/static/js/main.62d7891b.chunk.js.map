{"version":3,"sources":["utils/request.js","pages/Login/index.jsx","utils/useFetchState.js","pages/AddArticle/index.jsx","pages/ArticleList/index.jsx","pages/AddArticleType/index.jsx","pages/ArticleWord/index.jsx","utils/menu.js","pages/AdminIndex/index.jsx","App.js","index.js"],"names":["axios","defaults","baseURL","withCredentials","interceptors","request","use","config","data","JSON","stringify","headers","error","Promise","reject","response","apis","loginAdmin","resolve","method","url","then","res","LoginOut","getTypeInfo","addArticle","addAcricleType","console","log","updateArticleType","updateArticle","header","getArticlePie","getArticleList","delArticleType","id","delArticle","getArticleById","Login","props","useState","userName","setUserName","passWord","setPassWord","isLoading","setIsLoading","checkLogin","a","message","userInfo","localStorage","setItem","openId","success","history","push","className","tip","spinning","title","bordered","style","width","size","placeholder","prefix","UserOutlined","onChange","e","target","value","Password","KeyOutlined","type","block","onClick","useFetchState","focus","useRef","state","setState","useEffect","current","setFetchState","useCallback","Option","Select","TextArea","Input","AddArticle","articleId","setArticleId","articleTitle","setArticleTitle","articleContent","setArticleContent","markdownContent","setMarkdownContent","introducemd","setIntroducemd","introducehtml","setIntroducehtml","showDate","setShowDate","typeInfo","setTypeInfo","selectedType","setSelectType","removeItem","code","content","introduce","html","marked","tmpInt","addTime","typeId","tmpId","match","params","setOptions","renderer","Renderer","gfm","pedantic","sanitize","tables","breaks","smartLists","smartypants","changeContent","changeIntroduce","saveArticle","type_id","Date","valueOf","view_count","insertId","isScuccess","gutter","span","defaultValue","onSelect","map","item","typeName","rows","onPressEnter","dangerouslySetInnerHTML","__html","date","dateString","ArticleList","listLoading","setListLoading","articleList","setArticleList","getlist","list","columns","dataIndex","key","align","render","text","record","Modal","confirm","icon","ExclamationCircleOutlined","okText","cancelText","onOk","onCancel","loading","dataSource","mountNode","rowKey","pagination","position","defaultPageSize","AddArticleType","typeid","setTypeId","setLoading","addModal","setAddModal","setTypeName","setIcon","typeList","setTypeList","editType","delType","getTypelist","typeinfo","updateTypeList","textAlign","marginTop","padding","lineHeight","visible","echarts","TitleComponent","TooltipComponent","LegendComponent","PieChart","CanvasRenderer","ArticleWord","initPie","countList","total","chart","document","querySelector","option","left","tooltip","trigger","legend","orient","series","name","radius","emphasis","itemStyle","shadowBlur","shadowOffsetX","shadowColor","window","addEventListener","resize","setOption","height","menuList","children","Header","Layout","Content","Footer","Sider","SubMenu","Menu","AdminIndex","collapsed","setCollapsed","menuIcon","PieChartOutlined","DiffOutlined","FileDoneOutlined","getMenu","Item","to","getSubMenu","length","minHeight","minWidth","breakpoint","collapsible","onCollapse","theme","mode","background","paddingLeft","setTimeout","margin","path","exact","component","articleWord","App","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.62d7891b.chunk.js","sourcesContent":["\r\n\r\nimport axios from 'axios';\r\n\r\n// axios.defaults.baseURL = 'http://localhost:7001/admin'\r\n// axios.defaults.baseURL = 'http://120.78.195.82:7001/admin'\r\naxios.defaults.baseURL = 'http://www.wsw2000.top:7001/admin'\r\n\r\n\r\naxios.defaults.withCredentials=true\r\n\r\n\r\n//http request 拦截器\r\naxios.interceptors.request.use(\r\n  config => {\r\n    // const token = getCookie('名称');注意使用的时候需要引入cookie方法，推荐js-cookie\r\n    config.data = JSON.stringify(config.data);\r\n    config.headers = {\r\n      'Content-Type':'application/json;charset=UTF-8'\r\n    }\r\n    return config;\r\n  },\r\n  error => {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n//http response 拦截器\r\naxios.interceptors.response.use(\r\n  response => {\r\n    // console.log(response.data.data);\r\n    // if(response.data.data === '登录失败'){\r\n    //   window.location = '/login'\r\n    // }\r\n    return response;\r\n  },\r\n  error => {\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\nconst apis = {\r\n  loginAdmin(data){\r\n    return new Promise((resolve,reject) =>{\r\n      axios({\r\n        method:'post',\r\n        url:'/checkLogin',\r\n        data,\r\n        withCredentials: true\r\n      }).then(res =>{\r\n        resolve(res)\r\n      })\r\n    })\r\n  },\r\n  LoginOut(){\r\n    return new Promise((resolve,reject) =>{\r\n      axios({url:`/LoginOut`,withCredentials:true}).then(res =>{\r\n        resolve(res)\r\n      })\r\n    })\r\n  },\r\n  getTypeInfo(){\r\n    return new Promise((resolve,reject) =>{\r\n      axios({url:`/getTypeInfo`,withCredentials:true}).then(res =>{\r\n        resolve(res)\r\n      })\r\n    })\r\n  },\r\n  addArticle(data){\r\n    return new Promise((resolve,reject) =>{\r\n      axios({\r\n        method:'post',\r\n        url:'/addArticle',\r\n        // header:{ 'Access-Control-Allow-Origin':'*' },\r\n        data,\r\n        withCredentials: true\r\n      }).then(res =>{\r\n        resolve(res)\r\n      })\r\n    })\r\n  },\r\n  addAcricleType(data){\r\n    console.log(data);\r\n    return new Promise((resolve,reject) =>{\r\n      axios({\r\n        method:'post',\r\n        url:'/addAcricleType',\r\n        data,\r\n        withCredentials: true\r\n      }).then(res =>{\r\n        resolve(res)\r\n      })\r\n    })\r\n  },\r\n  updateArticleType(data){\r\n    return new Promise((resolve,reject) =>{\r\n      axios({\r\n        method:'post',\r\n        url:'/updateArticleType',\r\n        data,\r\n        withCredentials: true\r\n      }).then(res =>{\r\n        resolve(res)\r\n      })\r\n    })\r\n  },\r\n  updateArticle(data){\r\n    return new Promise((resolve,reject) =>{\r\n      axios({\r\n        method:'post',\r\n        url:'/updateArticle',\r\n        header:{ 'Access-Control-Allow-Origin':'*' },\r\n        data,\r\n        withCredentials: true\r\n      }).then(res =>{\r\n        resolve(res)\r\n      })\r\n    })\r\n  },\r\n  getArticlePie(){\r\n    return new Promise((resolve,reject) =>{\r\n      axios({url:`/getArticlePie`,withCredentials:true}).then(res =>{\r\n        resolve(res)\r\n      })\r\n    })\r\n  },\r\n  getArticleList(){\r\n    return new Promise((resolve,reject) =>{\r\n      axios({url:`/getArticleList`,withCredentials:true}).then(res =>{\r\n        resolve(res)\r\n      })\r\n    })\r\n  },\r\n  delArticleType(id){\r\n    return new Promise((resolve,reject) =>{\r\n      axios({url:`/delArticleType/${id}`,withCredentials:true}).then(res =>{\r\n        resolve(res)\r\n      })\r\n    })\r\n  },\r\n  delArticle(id){\r\n    return new Promise((resolve,reject) =>{\r\n      axios({url:`/delArticle/${id}`,withCredentials:true}).then(res =>{\r\n        resolve(res)\r\n      })\r\n    })\r\n  },\r\n  getArticleById(id) { \r\n    return new Promise((resolve,reject) =>{\r\n      axios({url:`/getArticleById/${id}`,withCredentials:true}).then(res =>{\r\n        resolve(res)\r\n      })\r\n    })\r\n  }\r\n}\r\n\r\nexport default apis","import React, { useState } from 'react';\r\nimport { Card, Input, Button, Spin, message } from 'antd';\r\nimport { KeyOutlined, UserOutlined } from '@ant-design/icons'\r\nimport './index.css'\r\nimport apis from '../../utils/request';\r\n\r\nconst Login = (props) => {\r\n  const [userName, setUserName] = useState('')\r\n  const [passWord, setPassWord] = useState('')\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  const checkLogin = async() => {\r\n    setIsLoading(true)\r\n    if(!userName || !passWord) {\r\n      message.error('用户名or密码不能为空')\r\n      setIsLoading(false)\r\n      return\r\n    }\r\n    let userInfo = {\r\n      userName:userName,\r\n      passWord:passWord\r\n    }\r\n    const {data:res} =await apis.loginAdmin(userInfo)\r\n    if(res.data=='登录成功'){\r\n      setIsLoading(false)\r\n      localStorage.setItem('openId',res.openId)\r\n      message.success('登录成功')\r\n      props.history.push('/index')\r\n    }else{\r\n      setIsLoading(false)\r\n      message.error('用户名密码错误')\r\n    }\r\n  }\r\n  return (\r\n    <div className=\"login-bg\">\r\n      <div className=\"login-div\">\r\n        <Spin tip=\"Loading...\" spinning={isLoading}>\r\n          <Card title=\"JSPang Blog  System\" bordered={true} style={{ width: 400 }} >\r\n            <Input\r\n              id=\"userName\"\r\n              size=\"large\"\r\n              placeholder=\"Enter your userName\"\r\n              prefix={<UserOutlined />}\r\n              onChange={(e) => { setUserName(e.target.value) }}\r\n            />\r\n            <br /><br />\r\n            <Input.Password\r\n              id=\"password\"\r\n              size=\"large\"\r\n              placeholder=\"Enter your password\"\r\n              prefix={<KeyOutlined />}\r\n              onChange={(e) => { setPassWord(e.target.value) }}\r\n            />\r\n            <br /><br />\r\n            <Button type=\"primary\" size=\"large\" block onClick={checkLogin} > Login in </Button>\r\n          </Card>\r\n        </Spin>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default Login","import { useCallback, useEffect, useRef, useState } from 'react';\r\n\r\nfunction useFetchState(...props) {\r\n  const focus = useRef();\r\n  const [state, setState] = useState(...props);\r\n  useEffect(() => {\r\n    focus.current = true;\r\n    return () => (focus.current = false);\r\n  }, []);\r\n  const setFetchState = useCallback((...params) => {\r\n    focus.current && setState(...params);\r\n  }, []);\r\n  return [state, setFetchState];\r\n}\r\n\r\nexport default useFetchState;","import React, { useState,useEffect } from 'react';\r\nimport useFetchState  from '../../utils/useFetchState'\r\nimport marked from 'marked'\r\nimport './index.css'\r\nimport { Row, Col, Input, Select, Button, DatePicker,message } from 'antd'\r\nimport apis from '../../utils/request'\r\nconst { Option } = Select;\r\nconst { TextArea } = Input\r\nfunction AddArticle(props) {\r\n  const [articleId, setArticleId] = useFetchState(0)  // 文章的ID，如果是0说明是新增加，如果不是0，说明是修改\r\n  const [articleTitle, setArticleTitle] = useFetchState('')   //文章标题\r\n  const [articleContent, setArticleContent] = useFetchState('')  //markdown的编辑内容\r\n  const [markdownContent, setMarkdownContent] = useFetchState('预览内容') //html内容\r\n  const [introducemd, setIntroducemd] = useFetchState()            //简介的markdown内容\r\n  const [introducehtml, setIntroducehtml] = useFetchState('等待编辑') //简介的html内容\r\n  const [showDate, setShowDate] = useFetchState()   //发布日期\r\n  const [updateDate, setUpdateDate] = useFetchState() //修改日志的日期\r\n  const [typeInfo, setTypeInfo] = useFetchState([]) // 文章类别信息\r\n  const [selectedType, setSelectType] = useFetchState('请选择类别') //选择的文章类别\r\n\r\n  //文章类别 + 路由守卫\r\n  const getTypeInfo = async() =>{\r\n    const {data:res} = await apis.getTypeInfo()\r\n    if(res.data == '登录失败' || !res){\r\n      localStorage.removeItem('openId')\r\n      props.history.push('/login')  \r\n    }else {\r\n      setTypeInfo(res.data)\r\n    }\r\n  }\r\n  //根据id获取文章详情\r\n  const getArticleById = async(id) =>{\r\n    const {data:res} = await apis.getArticleById(id)\r\n    // console.log(res);\r\n    if(res.code !== 1) return\r\n    // console.log(res.data[0]);\r\n    setArticleTitle(res.data[0].title)\r\n    setArticleContent(res.data[0].content)\r\n    setIntroducemd(res.data[0].introduce)\r\n\r\n    let html=marked(res.data[0].content)\r\n    setMarkdownContent(html)\r\n    \r\n    let tmpInt = marked(res.data[0].introduce)\r\n    setIntroducehtml(tmpInt)\r\n\r\n    setShowDate(res.data[0].addTime)\r\n    setSelectType(res.data[0].typeId)\r\n  }\r\n  useEffect(()=>{\r\n    // const openId = localStorage.getItem('openId')\r\n    getTypeInfo()\r\n    let tmpId = props.match.params.id\r\n    //如果有文章id  代表修改\r\n    if(tmpId){\r\n      // console.log(tmpId);\r\n      setArticleId(tmpId)\r\n      getArticleById(tmpId)\r\n    } \r\n  },[])\r\n  marked.setOptions({\r\n    renderer:new marked.Renderer(),\r\n    gfm: true,\r\n    pedantic: false,\r\n    sanitize: false,\r\n    tables: true,\r\n    breaks: false,\r\n    smartLists: true,\r\n    smartypants: false,\r\n  }); \r\n  const changeContent = (e)=>{\r\n    setArticleContent(e.target.value)  //markdown的编辑内容\r\n    let html = marked(e.target.value) \r\n    // console.log(html);\r\n    setMarkdownContent(html) //预览html内容\r\n  }\r\n\r\n  const changeIntroduce = (e)=>{\r\n    setIntroducemd(e.target.value)\r\n    let html=marked(e.target.value)\r\n    setIntroducehtml(html)\r\n  }\r\n\r\n  const saveArticle = async()=>{\r\n    if(selectedType === '请选择类别'){\r\n        message.error('必须选择文章类别')\r\n        return false\r\n    }else if(!articleTitle){\r\n        message.error('文章标题不能为空')\r\n        return false\r\n    }else if(!articleContent){\r\n        message.error('文章内容不能为空')\r\n        return false\r\n    }else if(!introducemd){\r\n        message.error('简介不能为空')\r\n        return false\r\n    }else if(!showDate){\r\n        message.error('发布日期不能为空')\r\n        return false\r\n    }\r\n    // let datetext= showDate.replace('-','/') //把字符串转换成时间戳\r\n    const addArticle = {\r\n      type_id:selectedType,\r\n      title:articleTitle,\r\n      content:articleContent,\r\n      introduce:introducemd,\r\n      addTime:(new Date(showDate).valueOf()),\r\n    }\r\n    if(articleId === 0) {  //新增\r\n      addArticle.view_count = 0\r\n      const {data:res} = await apis.addArticle(addArticle)\r\n      setArticleId(res.insertId)\r\n      res.isScuccess === true ? message.success('发布成功') : message.error('发布失败')\r\n    }else {\r\n      // console.log('articleId:'+articleId)\r\n      addArticle.id = articleId   //更新接口需要主键id  文章id\r\n      const {data:res} = await apis.updateArticle(addArticle)\r\n      res.isScuccess === true ? message.success('更新成功') : message.error('更新失败')\r\n    }\r\n  } \r\n  return (\r\n    <div>\r\n      <Row gutter={5}>\r\n        <Col span={18}>\r\n          <Row gutter={10} >\r\n            <Col span={20}>\r\n              <Input\r\n                placeholder=\"博客标题\"\r\n                size=\"large\"\r\n                value={articleTitle}\r\n                onChange={e=>{\r\n                  setArticleTitle(e.target.value)\r\n                }} />\r\n            </Col>\r\n            <Col span={4}>\r\n              <Select defaultValue={selectedType} size=\"large\" onSelect={value => setSelectType(value)}>\r\n                {\r\n                  typeInfo.map(item =>{\r\n                    return (\r\n                      <Option key={item.id} value={item.id}>{item.typeName}</Option>\r\n                    )\r\n                  })\r\n                }\r\n              </Select>\r\n            </Col>\r\n          </Row>\r\n          <br />\r\n          <Row gutter={10} >\r\n            <Col span={12}>\r\n            <TextArea\r\n              value={articleContent} \r\n              className=\"markdown-content\" \r\n              rows={35}  \r\n              onChange={changeContent} \r\n              onPressEnter={changeContent}\r\n              placeholder=\"文章内容\"\r\n            />\r\n            </Col>\r\n            <Col span={12}>\r\n              <div\r\n                className=\"show-html\"\r\n                dangerouslySetInnerHTML = {{__html:markdownContent}} >\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Col>\r\n        <Col span={6}>\r\n          <Row>\r\n            <Col span={24}>\r\n              <br />\r\n              <TextArea \r\n                rows={4} \r\n                value={introducemd}  \r\n                onChange={changeIntroduce} \r\n                onPressEnter={changeIntroduce}\r\n                placeholder=\"文章简介\"\r\n              />\r\n              <br /><br />\r\n              <div \r\n                className=\"introduce-html\"\r\n                dangerouslySetInnerHTML = {{__html:'文章简介：'+introducehtml}} >\r\n              </div>\r\n            </Col>\r\n            <Col span={12}>\r\n              <div className=\"date-select\">\r\n                <DatePicker\r\n                  // value={showDate}\r\n                  onChange={(date,dateString)=>setShowDate(dateString)}\r\n                  placeholder=\"发布日期\"\r\n                  size=\"large\"\r\n                />\r\n              </div>\r\n            </Col>\r\n            <Col span={24}>\r\n              <br/>\r\n              <Button size=\"large\">暂存文章</Button>&nbsp;\r\n              <Button type=\"primary\" size=\"large\" onClick={saveArticle}>发布文章</Button>\r\n            </Col>\r\n          </Row>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  )\r\n}\r\nexport default AddArticle","import React,{ useState,useEffect } from 'react'\r\nimport apis from '../../utils/request'\r\nimport { Table, Tag, Space, Modal,message,Button } from 'antd';\r\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\r\nfunction ArticleList(props) {\r\n  const [listLoading,setListLoading] = useState(false)\r\n  const [articleList,setArticleList] = useState([])\r\n  const handEdit = (id) => {\r\n    props.history.push('/home/add/'+id)\r\n  }\r\n  const handDelete = (id) =>{\r\n    Modal.confirm({\r\n      title: '确定要删除这篇博客文章吗?',\r\n      icon: <ExclamationCircleOutlined />,\r\n      okText: '确认',\r\n      cancelText: '取消',\r\n      async onOk(){\r\n        const {data:res} = await apis.delArticle(id)\r\n        console.log(res.code);\r\n        if(res.code !== 1) {\r\n         message.error('删除失败')\r\n        }\r\n        message.success('删除成功')\r\n        getlist()\r\n      },\r\n      onCancel() {\r\n        message.success('没有任何改变')\r\n      },\r\n    });\r\n  }\r\n  const getlist = async() => {\r\n    const {data:res} = await apis.getArticleList()\r\n    if(res.data == '登录失败'){\r\n      props.history.push('/login')\r\n      return\r\n    }\r\n    setArticleList(res.list)\r\n  }\r\n  useEffect(() => {\r\n    setListLoading(true)\r\n    getlist()\r\n    setListLoading(false)\r\n  }, []);\r\n  const columns = [\r\n    { title: 'id',dataIndex: 'id',key: 'id',align:'center' },\r\n    { title: '标题',dataIndex: 'title',key: 'title',align:'center' },\r\n    { title: '介绍',dataIndex: 'introduce',key: 'introduce',align:'center' },\r\n    { title: '时间',dataIndex: 'addTime',key: 'addTime',align:'center' },\r\n    { title: '类型',dataIndex: 'typeName',key: 'typeName',align:'center' },\r\n    { title: '内容',dataIndex: 'content',key: 'content',width:500 },\r\n    {\r\n      title: '操作',\r\n      dataIndex: 'action',\r\n      key: 'action',\r\n      align:'center',\r\n      render: (text, record) => (\r\n        <Space size=\"middle\">\r\n          <Button type=\"primary\" onClick={()=>handEdit(record.id)}>edit</Button>\r\n          <Button type=\"danger\" onClick={()=>handDelete(record.id)}>Delete</Button>\r\n        </Space>\r\n      ),\r\n    },\r\n  ];\r\n  return (\r\n    <>\r\n      <Table \r\n        loading={listLoading} \r\n        bordered \r\n        columns={columns} \r\n        dataSource={articleList} \r\n        mountNode\r\n        rowKey={(item) => item.id}\r\n        pagination={{ position: ['topLeft'],defaultPageSize:5 }} \r\n      />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ArticleList","import React,{useEffect,useState} from 'react'\r\nimport { Table, Space, Modal,message,Button,Input } from 'antd';\r\nimport apis from '../../utils/request'\r\nfunction AddArticleType(props) {\r\n  {console.log(props);}\r\n  const [typeid,setTypeId] = useState(0)\r\n  const [loading,setLoading] = useState(false)\r\n  const [addModal,setAddModal] = useState(false)\r\n  const [delModal,setDelModal] = useState(false)\r\n  const [typeName,setTypeName] = useState('')\r\n  const [icon,setIcon] = useState('')\r\n  const [typeList,setTypeList] = useState([])\r\n  const columns = [\r\n    { title: 'id',dataIndex: 'id',key: 'id',align:'center' },\r\n    { title: '类型',dataIndex: 'typeName',key: 'typeName',align:'center' },\r\n    { title: 'iconName',dataIndex: 'icon',key: 'icon',align:'center' },\r\n    {\r\n      title: '操作',\r\n      dataIndex: 'action',\r\n      key: 'action',\r\n      align:'center',\r\n      render: (text, record) => (\r\n        <Space size=\"middle\">\r\n          <Button type=\"primary\" onClick={()=>editType(record)}>修改</Button>\r\n          <Button type=\"danger\" onClick={()=>delType(record.id)}>删除</Button>\r\n        </Space>\r\n      ),\r\n    },\r\n  ];\r\n  const getTypelist = async() => {\r\n    const {data:res} = await apis.getTypeInfo()\r\n    if(res.data == '登录失败'){\r\n      props.history.push('/login')\r\n      return\r\n    }\r\n    setTypeList(res.data)\r\n  }\r\n  const delType = async(id) => {\r\n    Modal.confirm({\r\n      title: '确定要删除吗?',\r\n      okText: '确认',\r\n      cancelText: '取消',\r\n      async onOk(){\r\n        const {data:res} = await apis.delArticleType(id)\r\n        if(res.code !== 1) {\r\n          message.error('删除失败')\r\n          return\r\n        }\r\n        message.success('删除成功')\r\n        getTypelist()\r\n      },\r\n      onCancel() {\r\n        message.success('没有任何改变')\r\n      },\r\n    })\r\n  }\r\n  const editType = (typeinfo) =>{\r\n    setTypeId(typeinfo.id)\r\n    setTypeName(typeinfo.typeName)\r\n    setIcon(typeinfo.icon)\r\n    setAddModal(true)\r\n  }\r\n  const addType = () =>{\r\n    setTypeId(0)\r\n    setAddModal(true)\r\n  }\r\n  const handCancel = () =>{\r\n    setAddModal(false)\r\n    setTypeName('')\r\n    setIcon('')\r\n  }\r\n  const updateTypeList = async() =>{\r\n    if(typeName == ''){\r\n      message.error('请输入类型名称')\r\n      return\r\n    }\r\n    if(typeid == 0) {\r\n      const {data:res} = await apis.addAcricleType({typeName,icon})\r\n      if(!res.isScuccess) return\r\n      message.success('添加成功！')\r\n    }else { \r\n      //更新\r\n      const {data:res} = await apis.updateArticleType({id:typeid,typeName,icon})\r\n      console.log(res);\r\n      if(!res.isScuccess) return\r\n      message.success('更新成功')\r\n    }\r\n    getTypelist()\r\n    setAddModal(false)\r\n    setTypeName('')\r\n    setIcon('')\r\n  }\r\n  useEffect(() => {\r\n    setLoading(true)\r\n    getTypelist()\r\n    setLoading(false)\r\n  }, []);\r\n  return (\r\n    <>\r\n      <Table \r\n        loading={loading} \r\n        bordered \r\n        columns={columns} \r\n        dataSource={typeList} \r\n        mountNode\r\n        rowKey={(item) => item.id}\r\n        pagination={false} \r\n      />\r\n      <div style={{width:'100%',textAlign:'right'}}>\r\n        <Button type=\"primary\" \r\n        onClick={addType}\r\n        style={{marginTop:'20px',padding:' 20px 57px',lineHeight:' 0.0715'}}>\r\n        添加</Button>\r\n      </div>\r\n      {\r\n        addModal ? \r\n        <Modal title=\"添加文章类型\" \r\n        visible={addModal} \r\n        onOk={updateTypeList} \r\n        onCancel={handCancel}\r\n        >\r\n          <Input placeholder=\"文章名称\"\r\n          value={typeName} \r\n          onChange={(e) => { setTypeName(e.target.value) }}/>\r\n          <Input placeholder=\"icon\"\r\n          style={{marginTop:'20px'}}\r\n          value={icon} \r\n          onChange={(e) => { setIcon(e.target.value) }}/>\r\n        </Modal> : null\r\n      }\r\n     \r\n    </>\r\n  )\r\n}\r\n\r\nexport default AddArticleType","import { message } from 'antd';\r\nimport { useEffect, useState } from 'react'\r\nimport apis from '../../utils/request'\r\nimport * as echarts from 'echarts/core';\r\nimport {\r\n  TitleComponent,\r\n  TooltipComponent,\r\n  LegendComponent\r\n} from 'echarts/components';\r\nimport {\r\n  PieChart\r\n} from 'echarts/charts';\r\nimport {\r\n  CanvasRenderer\r\n} from 'echarts/renderers';\r\n\r\necharts.use(\r\n  [TitleComponent, TooltipComponent, LegendComponent, PieChart, CanvasRenderer]\r\n);\r\n\r\nfunction ArticleWord(props) {\r\n  useEffect(() => {\r\n    apis.getArticlePie().then(res => {\r\n      if (res.data.code !== 1) {\r\n        props.history.push('/login')\r\n        return\r\n      }\r\n      initPie(res.data.countList,res.data.total)\r\n    })\r\n  }, []);\r\n  const initPie = (data,total) => {\r\n    var chart = echarts.init(document.querySelector('.pieMain'));\r\n    let option = {\r\n      title: {\r\n        text: `文章统计${total}篇`,\r\n        left: 'center'\r\n      },\r\n      tooltip: {\r\n        trigger: 'item'\r\n      },\r\n      legend: {\r\n        orient: 'vertical',\r\n        left: 'left',\r\n      },\r\n      series: [\r\n        {\r\n          name: '访问来源',\r\n          type: 'pie',\r\n          radius: '50%',\r\n          data,\r\n          emphasis: {\r\n            itemStyle: {\r\n              shadowBlur: 10,\r\n              shadowOffsetX: 0,\r\n              shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n            }\r\n          }\r\n        }\r\n      ]\r\n    };\r\n    window.addEventListener(\"resize\", function () {\r\n      // 让我们的图表调用 resize这个方法\r\n      chart.resize();\r\n    });\r\n    option && chart.setOption(option)\r\n  }\r\n  return (\r\n    <>\r\n      <div className=\"pieMain\" style={{ width:'50%',height: '400px' }}></div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ArticleWord","const menuList =[\r\n  {\r\n    title:'博客统计',\r\n    icon:'PieChartOutlined',\r\n    key:'/home/word'\r\n  },\r\n  {\r\n    title:'文章管理',\r\n    icon:'UserOutlined',\r\n    key:'/article',\r\n    children:[\r\n      {\r\n        title:'添加文章',\r\n        key:'/home/add'\r\n      },\r\n      {\r\n        title:'文章列表',\r\n        key:'/home/list'\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    title:'文章类别',\r\n    icon:'DiffOutlined',\r\n    key:'/home/addType/'\r\n  },\r\n  {\r\n    title:'留言管理',\r\n    icon:'FileDoneOutlined',\r\n    key:'/home/message'\r\n  }\r\n]\r\n\r\n\r\nexport default menuList","import React,{useState} from 'react';\r\nimport { Layout, Menu, Breadcrumb,Button,Row,Col,Modal,message } from 'antd';\r\nimport './index.css'\r\nimport { PieChartOutlined, UserOutlined,FileDoneOutlined,DiffOutlined } from '@ant-design/icons'\r\nimport { Route,Link } from 'react-router-dom';\r\nimport AddArticle from '../AddArticle'\r\nimport ArticleList from '../ArticleList'\r\nimport AddArticleType from '../AddArticleType'\r\nimport articleWord from '../ArticleWord'\r\nimport menuList from '../../utils/menu'\r\nimport apis from '../../utils/request'\r\n\r\nconst { Header, Content, Footer, Sider } = Layout;\r\nconst { SubMenu } = Menu;\r\n\r\nfunction AdminIndex(props){\r\n  const [collapsed,setCollapsed] = useState(false)\r\n\r\n  const onCollapse = collapsed => {\r\n    setCollapsed(collapsed)\r\n  };\r\n  const menuIcon = {\r\n    PieChartOutlined : <PieChartOutlined/>,\r\n    UserOutlined : <UserOutlined/>,\r\n    DiffOutlined : <DiffOutlined/>,\r\n    FileDoneOutlined : <FileDoneOutlined/>,\r\n  }\r\n  //无子级菜单\r\n  const getMenu = ({title,key,icon}) => {\r\n    return (\r\n      <Menu.Item key={key} icon={menuIcon[icon]}>\r\n        <Link to={key}>\r\n          <span>{title}</span>\r\n        </Link>\r\n      </Menu.Item>\r\n    )\r\n  }\r\n  //有子级菜单\r\n  const getSubMenu = ({title,key,icon,children}) => {\r\n    return (\r\n      <SubMenu key={key} title={title} icon={menuIcon[icon]}>\r\n        {\r\n          children && children.map(item =>{\r\n            return item.children && item.children.length > 0 ? getSubMenu(item) : getMenu(item)\r\n          })\r\n        }\r\n      </SubMenu>\r\n    )\r\n  }\r\n  const logout = () =>{\r\n    Modal.confirm({\r\n      title: '确定要退出登录吗?',\r\n      okText: '确认',\r\n      cancelText: '取消',\r\n      async onOk(){\r\n        localStorage.removeItem('openId')\r\n        const {data:res} = await apis.LoginOut()\r\n        if(res.code !== -1) return\r\n        message.success('退出成功')\r\n\r\n        setTimeout(() =>{\r\n          props.history.push('/')\r\n        },1000)\r\n      },\r\n      onCancel() {\r\n        message.success('你还在哦')\r\n      },\r\n    })\r\n  }\r\n  return (\r\n    <Layout style={{ minHeight: '100vh',minWidth: '100%' }}>\r\n      <Sider  breakpoint=\"md\"  collapsible collapsed={collapsed} onCollapse={onCollapse}>\r\n        <div className=\"logo\"></div>\r\n        <Menu theme=\"dark\" mode=\"inline\" >          \r\n          {\r\n            menuList && menuList.map(item => {\r\n              return item.children && item.children.length > 0 ? getSubMenu(item) : getMenu(item)\r\n            })\r\n          }\r\n        </Menu>\r\n      </Sider>\r\n      <Layout>\r\n        <Header style={{ background: '#fff', paddingLeft:'12px'}}>\r\n          <Row>\r\n            <Col span={21}>hi,wsw</Col>\r\n            <Col span={3}><Button type=\"danger\" onClick={logout}>退出登录</Button></Col>\r\n          </Row>\r\n        </Header>\r\n        <Content style={{ margin: '0 16px' }}>\r\n          <Breadcrumb style={{ margin: '16px 0' }}>\r\n            <Breadcrumb.Item>后台管理</Breadcrumb.Item>\r\n            <Breadcrumb.Item>工作台</Breadcrumb.Item>\r\n          </Breadcrumb>\r\n          <div style={{ padding: 24, background: '#fff'}}>\r\n            {/* <Route path=\"/word/\" exact  component={AddArticle} />   */}\r\n            <Route path=\"/home/addType/\" exact  component={AddArticleType} />  \r\n            <Route path=\"/home/add/\" exact  component={AddArticle} />  \r\n            <Route path=\"/home/add/:id\" exact component={AddArticle} />  \r\n            <Route path=\"/home/list\"  component={ArticleList} />\r\n            <Route path=\"/home/word\"  component={articleWord} />  \r\n            {/* <Redirect to=\"/home/word\"/> */}\r\n          </div>\r\n        </Content>\r\n        <Footer style={{ textAlign: 'center' }}>wsw2000.top</Footer>\r\n      </Layout>\r\n    </Layout>\r\n  )\r\n\r\n}\r\n\r\nexport default AdminIndex","import { BrowserRouter as Router,Route,Redirect,Switch} from 'react-router-dom';\nimport Login from './pages/Login';\nimport AdminIndex from './pages/AdminIndex';\n\n\nfunction App() {\n  return (\n    <Switch>\n      <Route path='/login' exact component={Login}/>\n      <Route path=\"/home\"  component={AdminIndex} />\n      <Redirect to=\"/home/word\"/>\n    </Switch>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport 'antd/dist/antd.css';\nimport { HashRouter as Router } from 'react-router-dom';\nReactDOM.render(\n  <Router>  \n    <App />\n  </Router>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}